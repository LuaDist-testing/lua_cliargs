<html>
<head>
<title>cli</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="lunadoc.css" type="text/css" />
</head>
<body>
<div id="content">
<h1 class="module"><code>cli</code></h1>

<div class="section"  id="cli:new">
<h3 class="declaration"><code>cli:new(name)</code></h3>
<p>Creates a new instance of the CLI arguments parser and consumes <code>arg</code>.</p>

<p><strong>Note</strong>: you don’t need to invoke this directly as it is automatically done when you <code>require(&quot;cli&quot;)</code>.</p>

<h3>Parameters</h3>

<ol>
<li><strong>name</strong>: The name of the application, used in usage and help listings</li>
</ol>
</div>

<div class="section"  id="cli:set_name">
<h3 class="declaration"><code>cli:set_name(name)</code></h3>
<p>Assigns the name of the program which will be used for logging.</p>
</div>

<div class="section"  id="cli:add_arg">
<h3 class="declaration"><code>cli:add_arg(key, desc, ref)</code></h3>
<p>Defines a required argument. Required arguments have no special notation and are order-sensitive. <em>Note:</em> if <code>@ref</code> is omitted, the value will be stored in <code>args[@key]</code>.<br/><em>Aliases: <code>add_argument</code></em></p>

<h3>Parameters</h3>

<ol>
<li><strong>key</strong>: the argument’s “name” that will be displayed to the user</li>
<li><strong>desc</strong>: a description of the argument</li>
<li><strong>ref</strong>: optional; the table key that will be used to hold the value of this argument</li>
</ol>

<h3>Usage example</h3>

<p>The following will parse the argument (if specified) and set its value in <code>args[&quot;root_path&quot;]</code>:<br/><code>cli:add_arg(&quot;root&quot;, &quot;path to where root scripts can be found&quot;, &quot;root_path&quot;)</code> </p>
</div>

<div class="section"  id="cli:add_opt">
<h3 class="declaration"><code>cli:add_opt(key, desc, ref, default)</code></h3>
<p>Defines an optional argument. Optional arguments can use 3 different notations, and can accept a value.<br/><em>Aliases: <code>add_option</code></em></p>

<h3>Parameters</h3>

<ol>
<li><strong>key</strong>: the argument identifier, can be either <code>-key</code>, or <code>-key, --expanded-key</code>:<br/>if the first notation is used then a value can be defined after a space (<code>&#39;-key VALUE&#39;</code>),<br/>if the 2nd notation is used then a value can be defined after an <code>=</code> (<code>&#39;key, --expanded-key=VALUE&#39;</code>).</li>
<li><strong>desc</strong>: a description for the argument to be shown in –help</li>
<li><strong>ref</strong>: <em>optional</em>; override where the value will be stored, @see cli:add_arg</li>
<li><strong>default</strong>: <em>optional</em>; specify a default value (the default is &quot;&quot;)</li>
</ol>

<h3>Usage example</h3>

<p>The following option will be stored in <code>args[&quot;i&quot;]</code> with a default value of <code>my_file.txt</code>:<br/><code>cli:add_option(&quot;-i, --input=FILE&quot;, &quot;path to the input file&quot;, nil, &quot;my_file.txt&quot;)</code></p>
</div>

<div class="section"  id="cli:add_flag">
<h3 class="declaration"><code>cli:add_flag(key, desc, ref)</code></h3>
<p>Define a flag argument (on/off). This is a convenience helper for cli.add<em>opt(). See cli.add</em>opt() for more information.</p>

<h3>Parameters</h3>

<ol>
<li><strong>key</strong>: the argument’s key</li>
<li><strong>desc</strong>: a description of the argument to be displayed in the help listing</li>
<li><strong>ref</strong>: optionally override where the key which will hold the value</li>
</ol>
</div>

<div class="section"  id="cli:parse_args">
<h3 class="declaration"><code>cli:parse_args()</code></h3>
Parses the arguments found in #arg and returns a table with the populated values.

<h3>Returns</h3>

<ol>
<li>a table containing the keys specified when the arguments were defined along with the parsed values.</li>
</ol>
</div>

<div class="section"  id="cli:set_colsz">
<h3 class="declaration"><code>cli:set_colsz(key_cols, desc_cols)</code></h3>
Sets the amount of space allocated to the argument keys and descriptions in the help listing. The sizes are used for wrapping long argument keys and descriptions.

<h3>Parameters</h3>

<ol>
<li><strong>key_cols</strong>: the number of columns assigned to the argument keys (default: 20)</li>
<li><strong>desc_cols</strong>: the number of columns assigned to the argument descriptions (default: 45)</li>
</ol>
</div>

</div>
<div id="index">

<p><a href="cli.html">cli</a></p>

</div>
</body>
</html>
